<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>User guide &mdash; ReEDS  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
      <link rel="stylesheet" type="text/css" href="_static/customtheme.css?v=299ffeb9" />

  
    <link rel="shortcut icon" href="_static/reeds-icon.png"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=5929fcd5"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="_static/design-tabs.js?v=f930bc37"></script>
        <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Sources and Data" href="sources.html" />
    <link rel="prev" title="Model Documentation" href="model_documentation.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html">
            
              <img src="_static/reeds-logo-white.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="setup.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="model_documentation.html">Model Documentation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">User guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#temporal-resolution">Temporal resolution</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#temporal-resolution-switches">Temporal resolution switches</a></li>
<li class="toctree-l3"><a class="reference internal" href="#conventions">Conventions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#electricity-demand-profiles">Electricity Demand Profiles</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#switch-options-for-gsw-efs1-allyearload">Switch options for GSw_EFS1_AllYearLoad</a></li>
<li class="toctree-l3"><a class="reference internal" href="#resources-for-more-info-about-reeds-s-load-profiles">Resources for more info about ReEDS’s load profiles</a></li>
<li class="toctree-l3"><a class="reference internal" href="#different-weather-years">Different weather years</a></li>
<li class="toctree-l3"><a class="reference internal" href="#historic-load-data">Historic Load Data</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#hydrogen-inputs">Hydrogen inputs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#consume-char-gsw-h2-inputs-csv">consume_char_[GSw_H2_Inputs].csv</a></li>
<li class="toctree-l3"><a class="reference internal" href="#h2-transport-and-storage-costs-csv">h2_transport_and_storage_costs.csv</a></li>
<li class="toctree-l3"><a class="reference internal" href="#intra-regional-hydrogen-transport-cost">Intra-Regional Hydrogen Transport Cost</a></li>
<li class="toctree-l3"><a class="reference internal" href="#h2-storage-rb-csv">h2_storage_rb.csv</a></li>
<li class="toctree-l3"><a class="reference internal" href="#retail-adder-for-electrolytic-load">Retail adder for electrolytic load</a></li>
<li class="toctree-l3"><a class="reference internal" href="#hydrogen-production-tax-credit-45v">Hydrogen Production Tax Credit (45V)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#supply-curves">Supply curves</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#supply-curve-switches">Supply curve switches</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id1">Other notes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#transmission">Transmission</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#input-files">Input files</a></li>
<li class="toctree-l3"><a class="reference internal" href="#relevant-switches">Relevant switches</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#reeds2pras-and-pras">ReEDS2PRAS and PRAS</a></li>
<li class="toctree-l2"><a class="reference internal" href="#troubleshooting">Troubleshooting</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#key-areas-for-error-checking">Key Areas for Error Checking</a></li>
<li class="toctree-l3"><a class="reference internal" href="#re-running-a-failed-reeds-case">Re-running a Failed ReEDS Case</a></li>
<li class="toctree-l3"><a class="reference internal" href="#diagnoses-of-reeds-case">Diagnoses of ReEDS Case</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="sources.html">Sources and Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="postprocessing_tools.html">Analysis tools and helper scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="publications.html">ReEDS publications</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">FAQ</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">ReEDS</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">User guide</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/user_guide.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section class="tex2jax_ignore mathjax_ignore" id="user-guide">
<h1>User guide<a class="headerlink" href="#user-guide" title="Link to this heading"></a></h1>
<section id="temporal-resolution">
<h2>Temporal resolution<a class="headerlink" href="#temporal-resolution" title="Link to this heading"></a></h2>
<section id="temporal-resolution-switches">
<h3>Temporal resolution switches<a class="headerlink" href="#temporal-resolution-switches" title="Link to this heading"></a></h3>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">GSw_HourlyNumClusters</span></code> specifies the maximum number of representative periods.</p></li>
<li><p>Two other switches, <code class="docutils literal notranslate"><span class="pre">GSw_HourlyPeakLevel</span></code> and <code class="docutils literal notranslate"><span class="pre">GSw_HourlyMinRElevel</span></code>, indicate additional “outlying periods” that can be added (peak-load-containing periods for <code class="docutils literal notranslate"><span class="pre">GSw_HourlyPeakLevel</span></code>, minimum-average-PV-CF and minimum-average-wind-CF periods for <code class="docutils literal notranslate"><span class="pre">GSw_HourlyMinRElevel</span></code>). If running the US and both are set to “interconnect”, they add the 3 peak-load days, 3 minimum-wind days, and 3 minimum-PV days by interconnect, resulting in 33+9=42 by default if <code class="docutils literal notranslate"><span class="pre">GSw_HourlyNumClusters</span></code>=33. These “outlying periods” are only included when using capacity credit (<code class="docutils literal notranslate"><span class="pre">GSw_PRM_CapCredit=1</span></code>) instead of stress periods (<code class="docutils literal notranslate"><span class="pre">GSw_PRM_CapCredit=0</span></code>).</p></li>
<li><p>When using <code class="docutils literal notranslate"><span class="pre">GSw_HourlyClusterAlgorithm=optimized</span></code> (the default), then depending on the setting of <code class="docutils literal notranslate"><span class="pre">GSw_HourlyClusterRegionLevel</span></code> there will be a maximum number of days it needs to reproduce the distribution of load/pv/wind. When <code class="docutils literal notranslate"><span class="pre">GSw_HourlyClusterRegionLevel=transreg</span></code> (the default), there are 11 regions and 3 features, so it needs ~33 days to reproduce the distribution (like an eigenvalue problem).</p>
<ul class="simple">
<li><p>So turning up <code class="docutils literal notranslate"><span class="pre">GSw_HourlyNumClusters</span></code> on its own won’t increase the temporal coverage. If you want more temporal coverage, the options are:</p>
<ul>
<li><p>Switch to <code class="docutils literal notranslate"><span class="pre">GSw_HourlyType=wek</span></code>, which increases the length of the periods from 1 day to 5 days. If all the other switches are left at their defaults, switching to <code class="docutils literal notranslate"><span class="pre">wek</span></code> would increase the coverage from 42 days to 5*42=210 days.</p></li>
<li><p>Reduce <code class="docutils literal notranslate"><span class="pre">GSw_HourlyClusterRegionLevel</span></code> to something smaller than transreg (like <code class="docutils literal notranslate"><span class="pre">st</span></code>), and then increase <code class="docutils literal notranslate"><span class="pre">GSw_HourlyNumClusters</span></code></p></li>
<li><p>Switch to <code class="docutils literal notranslate"><span class="pre">GSw_HourlyClusteAlgorithm=hierarchical</span></code> and then increase <code class="docutils literal notranslate"><span class="pre">GSw_HourlyNumClusters</span></code> (although that’s less desirable, because hierarchical clustering doesn’t do as good of a job of reproducing the actual spatial distribution of CF and load)</p></li>
<li><p>Switch to <code class="docutils literal notranslate"><span class="pre">Gsw_HourlyType=year</span></code>. Although if you’re running for the whole US you’ll need to turn on region aggregation (<code class="docutils literal notranslate"><span class="pre">GSw_RegionResolution=aggreg</span></code> and <code class="docutils literal notranslate"><span class="pre">GSw_HierarchyFile</span></code> in [<code class="docutils literal notranslate"><span class="pre">default</span></code> or <code class="docutils literal notranslate"><span class="pre">agg1</span></code>, or <code class="docutils literal notranslate"><span class="pre">agg2</span></code> or <code class="docutils literal notranslate"><span class="pre">agg3</span></code>]) for it to solve.</p></li>
</ul>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">GSw_HourlyClusterAlgorithm</span></code></p>
<ul class="simple">
<li><p>If set to ‘hierarchical’, then hierarchical clustering is used via</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">sklearn</span><span class="o">.</span><span class="n">cluster</span><span class="o">.</span><span class="n">AgglomerativeClustering</span><span class="p">(</span>
    <span class="n">n_clusters</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">sw</span><span class="p">[</span><span class="s1">&#39;GSw_HourlyNumClusters&#39;</span><span class="p">]),</span>
    <span class="n">affinity</span><span class="o">=</span><span class="s1">&#39;euclidean&#39;</span><span class="p">,</span> <span class="n">linkage</span><span class="o">=</span><span class="s1">&#39;ward&#39;</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li><p>If set to ‘optimized’, then a two-step custom optimization is performed using the <code class="docutils literal notranslate"><span class="pre">hourly_repperiods.optimize_period_weights()</span></code> and <code class="docutils literal notranslate"><span class="pre">hourly_repperiods.assign_representative_days()</span></code> functions to minimize the deviation in regional load and PV/wind CF between the weighted representative periods and the full year.</p></li>
<li><p>If set to a string containing the substring ‘user’, then instead of optimizing the choice of representative periods for this run, we read them from the inputs/variability/period_szn_user.csv file.</p>
<ul>
<li><p>The scenario name is in the first column, labeled ‘scenario’. ReEDS will use rows with the same label as <code class="docutils literal notranslate"><span class="pre">GSw_HourlyClusterAlgorithm</span></code>.</p>
<ul>
<li><p>So if you want to use the example period:szn map, just set <code class="docutils literal notranslate"><span class="pre">GSw_HourlyClusterAlgorithm=user</span></code>.</p></li>
<li><p>If you want to specify a different period:szn map, then add your mapping at the bottom of inputs/variability/period_szn_user.csv with a unique scenario name in the ‘scenario’ column, and set <code class="docutils literal notranslate"><span class="pre">GSw_HourlyClusterAlgorithm</span></code> to your unique scenario name, <em>which must contain the substring ‘user’</em>. (For example, I could use a mapping called ‘user_myname_20230130’ by adding my period:szn map to inputs/variability/period_szn_user.csv with ‘user_myname_20230130’ in the ‘scenario’ column and setting <code class="docutils literal notranslate"><span class="pre">GSw_HourlyClusterAlgorithm=user_myname_20230130</span></code>.)</p></li>
<li><p>Make sure the settings for <code class="docutils literal notranslate"><span class="pre">GSw_HourlyType</span></code> and <code class="docutils literal notranslate"><span class="pre">GSw_HourlyWeatherYears</span></code> match your user-defined map. For example, if your ‘user_myname_20230130’ map includes 365 representative days for weather year 2012, then set <code class="docutils literal notranslate"><span class="pre">GSw_HourlyType=day</span></code> and <code class="docutils literal notranslate"><span class="pre">GSw_HourlyWeatherYears=2012</span></code>.</p></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">GSw_PRM_StressThreshold</span></code>: The default setting of ‘transgrp_10_EUE_sum’ means a threshold of “<strong>10</strong> ppm NEUE in each <strong>transgrp</strong>”, with stress periods selected by the daily <strong>sum</strong> of <strong>EUE</strong> within each <strong>transgrp</strong>.</p>
<ul class="simple">
<li><p>The first argument can be selected from [‘country’, ‘interconnect’, ‘nercr’, ‘transreg’, ‘transgrp’, ‘st’, ‘r’] and specifies the hierarchy level within which to compare RA performance against the threshold.</p></li>
<li><p>The second argument can be any float and specifies the RA performance threshold in parts per million [ppm].</p></li>
<li><p>The third argument can be ‘NEUE’ or ‘EUE’, specifying which metric to use when selecting stress periods. If set to ‘NEUE’ the model will add stress periods with the largest <strong>fraction</strong> of dropped load; if set to ‘EUE’ the model will add stress periods with the largest <strong>absolute MWh</strong> of dropped load.</p></li>
<li><p>The fourth argument can be ‘sum’ or ‘max’, specifying whether to add stress periods in order of their daily per-hour max dropped load or by their daily sum of dropped load when selecting stress periods.</p></li>
<li><p>If desired you can provide /-delimited entries like ‘transgrp_10_EUE_sum/country_1_EUE_sum’, meaning that each transgrp must have ≤10 ppm NEUE and the country overall must have ≤1 ppm NEUE.</p></li>
</ul>
</li>
</ul>
</section>
<section id="conventions">
<h3>Conventions<a class="headerlink" href="#conventions" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Timestamps are formatted as <code class="docutils literal notranslate"><span class="pre">y{year}d{day</span> <span class="pre">of</span> <span class="pre">year}h{hour</span> <span class="pre">of</span> <span class="pre">day}</span></code> in hour-ending format in Eastern Standard Time. The numbering of days begins at 1. For example, the hour from 3am-4am on January 3, 2012 would be indicated as <code class="docutils literal notranslate"><span class="pre">y2012d003h004</span></code>.</p>
<ul>
<li><p>When using representative weks (5-day periods), timestamps are instead formatted as <code class="docutils literal notranslate"><span class="pre">y{year}w{wek</span> <span class="pre">of</span> <span class="pre">year}h{hour</span> <span class="pre">of</span> <span class="pre">wek}</span></code>. The numbering of weks begins at 1. In this format, the hour from 3am-4am on January 3, 2012 would be indicated as <code class="docutils literal notranslate"><span class="pre">y2012w001h052</span></code>.</p></li>
</ul>
</li>
<li><p>Representative and stress <strong>periods</strong> (indexed as <code class="docutils literal notranslate"><span class="pre">szn</span></code> within ReEDS) are labeled similarly to timestamps but without the <code class="docutils literal notranslate"><span class="pre">h{hour</span> <span class="pre">of</span> <span class="pre">day}</span></code> component…</p>
<ul>
<li><p><em>Except stress periods and stress timeslices have an ‘s’ prefix.</em> So if the time period above showed up as a stress period, it would be labeled as <code class="docutils literal notranslate"><span class="pre">h=sy2012d003h004</span></code> and <code class="docutils literal notranslate"><span class="pre">szn=sy2012d003</span></code> for represntative days (or <code class="docutils literal notranslate"><span class="pre">h=sy2012w001h052</span></code> and <code class="docutils literal notranslate"><span class="pre">szn=sy2012w001</span></code> for representative weks). Stress periods are modeled using different loads and transmission capacities than representative periods, so they need to be indexed separately.</p></li>
</ul>
</li>
</ul>
</section>
</section>
<section id="electricity-demand-profiles">
<h2>Electricity Demand Profiles<a class="headerlink" href="#electricity-demand-profiles" title="Link to this heading"></a></h2>
<section id="switch-options-for-gsw-efs1-allyearload">
<h3>Switch options for GSw_EFS1_AllYearLoad<a class="headerlink" href="#switch-options-for-gsw-efs1-allyearload" title="Link to this heading"></a></h3>
<p>These files are stored in <code class="docutils literal notranslate"><span class="pre">inputs/load/{switch_name}_load_hourly.h5</span></code>.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Switch Name</p></th>
<th class="head"><p>Description of Profile</p></th>
<th class="head"><p>Origin</p></th>
<th class="head"><p>Weather year included</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>historic</p></td>
<td><p>Historic demand from 2007-2013. This is multiplied by annual growth factors from AEO to forecast load growth.</p></td>
<td><p>Produced by the ReEDS team from a compilation of data sources. More detail can be found <a class="reference external" href="https://github.nrel.gov/ReEDS/ReEDS-2.0/tree/main/hourlize/plexos_to_reeds#readme">here</a>.</p></td>
<td><p>2007-2013</p></td>
</tr>
<tr class="row-odd"><td><p>historic_post2015</p></td>
<td><p>Historic demand from 2016-2023. This is multiplied by annual growth factors from AEO to forecast load growth.</p></td>
<td><p>Produced by the ReEDS team. See <a class="reference external" href="https://github.nrel.gov/ReEDS/ReEDS-2.0/pull/1601">PR 1601</a> and the scripts linked there for information about how this data was compiled.</p></td>
<td><p>2016-2023</p></td>
</tr>
<tr class="row-even"><td><p>Clean2035_LTS</p></td>
<td><p>Net-zero emissions, economy wide, by 2050 based on the White House’s Long Term Strategy as shown here: <a class="reference external" href="https://www.whitehouse.gov/wp-content/uploads/2021/10/US-Long-Term-Strategy.pdf">https://www.whitehouse.gov/wp-content/uploads/2021/10/US-Long-Term-Strategy.pdf</a></p></td>
<td><p>Developed for the 100% Clean Electricity by 2035 study: <a class="reference external" href="https://www.nrel.gov/docs/fy22osti/81644.pdf">https://www.nrel.gov/docs/fy22osti/81644.pdf</a></p></td>
<td><p>2007-2013</p></td>
</tr>
<tr class="row-odd"><td><p>Clean2035</p></td>
<td><p>Accelerated Demand Electrification (ADE) profile. This profile was custom made for the 100% Clean Electricity by 2035 study. More information about how it was formed can be found in <a class="reference external" href="https://www.nrel.gov/docs/fy22osti/81644.pdf">https://www.nrel.gov/docs/fy22osti/81644.pdf</a> Appendix C.</p></td>
<td><p>Developed for the 100% Clean Electricity by 2035 study: <a class="reference external" href="https://www.nrel.gov/docs/fy22osti/81644.pdf">https://www.nrel.gov/docs/fy22osti/81644.pdf</a></p></td>
<td><p>2007-2013</p></td>
</tr>
<tr class="row-even"><td><p>Clean2035clip1pct</p></td>
<td><p>Same as Clean2035 but clips off the top 1% of load hours.</p></td>
<td><p>Developed for the 100% Clean Electricity by 2035 study: <a class="reference external" href="https://www.nrel.gov/docs/fy22osti/81644.pdf">https://www.nrel.gov/docs/fy22osti/81644.pdf</a></p></td>
<td><p>2007-2013</p></td>
</tr>
<tr class="row-odd"><td><p>EPHIGH</p></td>
<td><p>Features a combination of technology advancements, policy support and consumer enthusiasm that enables transformational change in electrification.</p></td>
<td><p>Developed for the Electrification Futures Study <a class="reference external" href="https://www.nrel.gov/docs/fy18osti/71500.pdf">https://www.nrel.gov/docs/fy18osti/71500.pdf</a>.</p></td>
<td><p>2007-2013</p></td>
</tr>
<tr class="row-even"><td><p>EPMEDIUMStretch2046</p></td>
<td><p>An average of the EPMEDIUM profile and the AEO reference trajectory. This was created to very roughly simulate the EV and broader electrification incentives in IRA, before we had better estimates of the actual effects of IRA.</p></td>
<td><p>NREL researchers combined the EPMEDIUM profile and the AEO reference trajectory.</p></td>
<td><p>2007-2013</p></td>
</tr>
<tr class="row-odd"><td><p>EPMEDIUM</p></td>
<td><p>Features a future with widespread electrification among the “low-hanging fruit” opportunities in electric vehicles, heat pumps and select industrial applications, but one that does not result in transformational change.</p></td>
<td><p>Developed for the Electrification Futures Study <a class="reference external" href="https://www.nrel.gov/docs/fy18osti/71500.pdf">https://www.nrel.gov/docs/fy18osti/71500.pdf</a>.</p></td>
<td><p>2007-2013</p></td>
</tr>
<tr class="row-even"><td><p>EPREFERENCE</p></td>
<td><p>Features the least incremental change in electrification through 2050, which serves as a baseline of comparison to the other scenarios.</p></td>
<td><p>Developed for the Electrification Futures Study <a class="reference external" href="https://www.nrel.gov/docs/fy18osti/71500.pdf">https://www.nrel.gov/docs/fy18osti/71500.pdf</a>.</p></td>
<td><p>2007-2013</p></td>
</tr>
<tr class="row-odd"><td><p>EER_Baseline_AEO2022_v2023</p></td>
<td><p>Business as usual load growth. Based on the service demand projections from AEO 2022. This does not include the impacts of the Inflation Reduction Act.</p></td>
<td><p>Purchased from Evolved Energy Research in June 2023 for the National Transmission Planning Study and to update our load profiles in general. More information can be found in <a class="reference external" href="https://www.evolved.energy/post/adp2022">EER’s 2022 Annual Decarbonization Report</a>. This is the “Baseline” scenario in EER’s 2022 ADP.</p></td>
<td><p>2007-2013</p></td>
</tr>
<tr class="row-even"><td><p>EER_IRAlow_v2023</p></td>
<td><p>Modeling load change under conservative assumptions about the Inflation Reduction Act</p></td>
<td><p>Purchased from Evolved Energy Research in June 2023 for the National Transmission Planning Study and to update our load profiles in general. This scenario is unfortunately not described in EER’s 2022 ADP. It was originally prepared for the Princeton REPEAT project. Please cite the <a class="reference external" href="https://repeatproject.org/">Princeton REPEAT project</a> when using this profile.</p></td>
<td><p>2007-2013</p></td>
</tr>
<tr class="row-odd"><td><p>EER_IRAmoderate_v2023</p></td>
<td><p>Modeling load change under moderate assumptions about the Inflation Reduction Act</p></td>
<td><p>Purchased from Evolved Energy Research in June 2023 for the National Transmission Planning Study and to update our load profiles in general. This scenario is unfortunately not described in EER’s 2022 ADP. It was originally prepared for the Princeton REPEAT project. Please cite the <a class="reference external" href="https://repeatproject.org/">Princeton REPEAT project</a> when using this profile.</p></td>
<td><p>2007-2013</p></td>
</tr>
<tr class="row-even"><td><p>EER_100by2050_v2023</p></td>
<td><p>100% decarbonization by 2050 scenario. This does not explicitly include the impacts of the Inflation Reduction Act. However, due to its decarbonization, it is a more aggressive electrification profile than EER_IRAlow.</p></td>
<td><p>Purchased from Evolved Energy Research in June 2023 for the National Transmission Planning Study and to update our load profiles in general. More information can be found in <a class="reference external" href="https://www.evolved.energy/post/adp2022">EER’s 2022 Annual Decarbonization Report</a>. This is the “Central” scenario in EER’s 2022 ADP.</p></td>
<td><p>2007-2013</p></td>
</tr>
<tr class="row-odd"><td><p>EER_Baseline_AEO2023</p></td>
<td><p>Business as usual load growth. Based on the service demand projections from AEO 2023. This does not include the impacts of the Inflation Reduction Act.</p></td>
<td><p>Purchased from Evolved Energy Research in 2024. More information can be found in <a class="reference external" href="https://www.evolved.energy/us-adp-2024">EER’s 2024 Annual Decarbonization Report</a>. This is the “Baseline” scenario in EER’s 2024 ADP.</p></td>
<td><p>2007-2013 &amp; 2016-2023</p></td>
</tr>
<tr class="row-even"><td><p>EER_IRAlow</p></td>
<td><p>Modeling load change under conservative assumptions about the Inflation Reduction Act</p></td>
<td><p>Purchased from Evolved Energy Research in 2024. This scenario is not described in EER’s 2024 ADP. It is most similar to the “Current Policy” scenario; however, that scenario has “moderate assumptions about the Inflation Reduction Act” compared to this scenario which has “conservative assumptions about the Inflation Reduction Act”. This scenario was originally prepared for the Princeton REPEAT project. Please cite the <a class="reference external" href="https://repeatproject.org/">Princeton REPEAT project</a> when using this profile.</p></td>
<td><p>2007-2013 &amp; 2016-2023</p></td>
</tr>
<tr class="row-odd"><td><p>EER_100by2050</p></td>
<td><p>100% decarbonization by 2050 scenario. This does not explicitly include the impacts of the Inflation Reduction Act. However, due to its decarbonization, it is a more aggressive electrification profile than EER_IRAlow.</p></td>
<td><p>Purchased from Evolved Energy Research in 2024. More information can be found in <a class="reference external" href="https://www.evolved.energy/us-adp-2024">EER’s 2024 Annual Decarbonization Report</a>. This is the “Central” scenario in EER’s 2024 ADP.</p></td>
<td><p>2007-2013 &amp; 2016-2023</p></td>
</tr>
</tbody>
</table>
</section>
<section id="resources-for-more-info-about-reeds-s-load-profiles">
<h3>Resources for more info about ReEDS’s load profiles<a class="headerlink" href="#resources-for-more-info-about-reeds-s-load-profiles" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.nrel.gov/docs/fy25osti/92256.pdf">Standard Scenarios 2024</a> has a appendix that synthesizes what is included in these demand profiles in more detail. See pg 37-45 for more information. Note that this describes the previous batch of EER profiles from June 2023; however, the high level trends will be largely consistent between the previous and current profiles.</p></li>
<li><p><a class="reference external" href="https://www.evolved.energy/us-adp-2024">ADP 2024’s Technical Documentation</a> lists many of their underlying stock assumptions.</p></li>
<li><p><a class="reference external" href="https://energypathways.readthedocs.io/en/latest/">EER’s docs page</a> if you want a deeper look into their modeling.</p></li>
</ul>
</section>
<section id="different-weather-years">
<h3>Different weather years<a class="headerlink" href="#different-weather-years" title="Link to this heading"></a></h3>
<p>For EER’s load profiles, “weather” includes everything considered by NREL’s <a class="reference external" href="https://resstock.nrel.gov/">ResStock</a> and <a class="reference external" href="https://comstock.nrel.gov/">ComStock</a> building models (i.e., temperature, humidity, insolation, and wind speed). This information gets translated into variations in load through regressions and benchmarking with historical system load data for the weather year in question.</p>
</section>
<section id="historic-load-data">
<h3>Historic Load Data<a class="headerlink" href="#historic-load-data" title="Link to this heading"></a></h3>
<p>We have three historic load files, all of which were produced by the ReEDS team from a bottom-up compilation of different load data sources (see table above for more info). We sent these historical demand data to EER, who uses them to project future demand.</p>
<p>They are the following:</p>
<ol class="arabic simple">
<li><p>historic_load_hourly.h5 (contains historic demand from 2007-2013)</p></li>
<li><p>historic_post2015_load_hourly.h5 (contains historic demand from 2016-2023)</p></li>
<li><p>historic_full_load_hourly.h5 (combines files 1 &amp; 2 to contain historic demand from 2007-2013 + 2016-2023)
Files 1 &amp; 2 are kept separate in the repository because their state and BA level magnitudes vary due to the slight differences in collecting the hourly historical data. These profiles were produced at different times and hence were produced in slightly different ways, which are described in the table below.</p></li>
</ol>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p></p></th>
<th class="head"><p>Historic_load_hourly.h5 (2007-2013)</p></th>
<th class="head"><p>historic_post2015_load_hourly.h5 (2016-2023)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>When were they produced/added to the repo?</p></td>
<td><p>~ 2020, see <a class="reference external" href="https://github.nrel.gov/ReEDS/ReEDS-2.0/blob/7a8c6733786dbb407a9e1d8d49a24e18b691d650/inputs/variability/LDC_static_inputs_multiple_years/load.csv.gz">original file</a></p></td>
<td><p>Added in January 2025 in <a class="reference external" href="https://github.nrel.gov/ReEDS/ReEDS-2.0/pull/1601">PR 1601</a></p></td>
</tr>
<tr class="row-odd"><td><p>Does each year have a unique hourly shape?</p></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td><p>Does each model year have a unique magnitude? How are the data normalized?</p></td>
<td><p>No, 2007-2013 are normalized to 2010 demand (3738 TWh).</p></td>
<td><p>Yes, EER detrended the 2016-2023 data by doing a linear regression across that span of years and then adding/subtracting the linear trend across the years. This maintains the internal weather variability while separating the load growth. EER scaled the 2007-2013 data to match the average of my detrended 2016-2023 data.</p></td>
</tr>
<tr class="row-odd"><td><p>Time zone of the file</p></td>
<td><p>Central Standard Time (CST)</p></td>
<td><p>Central Standard Time (CST)</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="hydrogen-inputs">
<h2>Hydrogen inputs<a class="headerlink" href="#hydrogen-inputs" title="Link to this heading"></a></h2>
<p>Most hydrogen input files are in the <code class="docutils literal notranslate"><span class="pre">inputs/consume/</span></code> folder.</p>
<section id="consume-char-gsw-h2-inputs-csv">
<h3>consume_char_[GSw_H2_Inputs].csv<a class="headerlink" href="#consume-char-gsw-h2-inputs-csv" title="Link to this heading"></a></h3>
<p>Contains cost and performance assumption for electrolyzers and steam-methane reformer.</p>
<p>Electrolyzer capital cost assumptions are based on the Pathways to Commercial Liftoff: Clean Hydrogen Report (<a class="reference external" href="https://liftoff.energy.gov/wp-content/uploads/2023/05/20230320-Liftoff-Clean-H2-vPUB-0329-update.pdf">https://liftoff.energy.gov/wp-content/uploads/2023/05/20230320-Liftoff-Clean-H2-vPUB-0329-update.pdf</a>) [see values in the footnotes of Figure 3 on page 14].
The reference scenario assumes linearly decline from 1750 <span class="math notranslate nohighlight">\(/kW in 2022 to 550 \)</span>/kW in 2030, and then remain constant after.
The low cost scenario assumes further declines from 2030 to 2050.</p>
<p>Fixed O&amp;M values are assumed to be 5% of CAPEX (source: <a class="reference external" href="https://iopscience.iop.org/article/10.1088/1748-9326/acacb5">https://iopscience.iop.org/article/10.1088/1748-9326/acacb5</a>)</p>
<p>Electrolyzer performance (efficiency) as well as SMR cost and performance assumptions are derived from assumptions H2A: Hydrogen Analysis Production Models (<a class="reference external" href="https://www.nrel.gov/hydrogen/h2a-production-models.html">https://www.nrel.gov/hydrogen/h2a-production-models.html</a>), with guidance from Paige Jadun.
See original input assumptions in the ReEDS-2.0_Input_Processing repo: <a class="reference external" href="https://github.nrel.gov/ReEDS/ReEDS-2.0_Input_Processing/blob/main/H2/costs/H2ProductionCosts-20210414.xlsx">https://github.nrel.gov/ReEDS/ReEDS-2.0_Input_Processing/blob/main/H2/costs/H2ProductionCosts-20210414.xlsx</a>.</p>
<p>Note that SMR costs are currently in 2018<span class="math notranslate nohighlight">\( and electrolyzer costs are in 2022\)</span>.</p>
</section>
<section id="h2-transport-and-storage-costs-csv">
<h3>h2_transport_and_storage_costs.csv<a class="headerlink" href="#h2-transport-and-storage-costs-csv" title="Link to this heading"></a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Investment</p></th>
<th class="head"><p>Cost type</p></th>
<th class="head"><p>Units</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Pipelines</p></td>
<td><p>Overnight Capital Cost</p></td>
<td><p>$/[(metric ton/hour)*mile]</p></td>
</tr>
<tr class="row-odd"><td><p>Pipelines</p></td>
<td><p>FOM</p></td>
<td><p>$/[(metric ton/hour)<em>mile</em>year]</p></td>
</tr>
<tr class="row-even"><td><p>Pipelines</p></td>
<td><p>Electric load</p></td>
<td><p>MWh/metric ton</p></td>
</tr>
<tr class="row-odd"><td><p>Compressors</p></td>
<td><p>Overnight Capital Cost</p></td>
<td><p>$/(metric ton-hour)</p></td>
</tr>
<tr class="row-even"><td><p>Compressors</p></td>
<td><p>FOM</p></td>
<td><p>$/[(metric ton/hour)*year)</p></td>
</tr>
<tr class="row-odd"><td><p>Compressors</p></td>
<td><p>Electric load</p></td>
<td><p>MWh/metric ton</p></td>
</tr>
<tr class="row-even"><td><p>Storage</p></td>
<td><p>Overnight Capital Cost</p></td>
<td><p>$/metric ton</p></td>
</tr>
<tr class="row-odd"><td><p>Storage</p></td>
<td><p>FOM</p></td>
<td><p>$/(metric ton*year)</p></td>
</tr>
<tr class="row-even"><td><p>Storage</p></td>
<td><p>Electric load</p></td>
<td><p>MWh/metric ton</p></td>
</tr>
</tbody>
</table>
<p>The values in <code class="docutils literal notranslate"><span class="pre">H2_transport_and_storage_costs.csv</span></code> are based on raw data provided from the SERA model by Paige Jadun.
The raw data are formated by the <code class="docutils literal notranslate"><span class="pre">process-h2-inputs.py</span></code> script in the input processing repository (<a class="reference external" href="https://github.nrel.gov/ReEDS/ReEDS-2.0_Input_Processing/blob/main/H2/process-h2-inputs.py">https://github.nrel.gov/ReEDS/ReEDS-2.0_Input_Processing/blob/main/H2/process-h2-inputs.py</a>).</p>
</section>
<section id="intra-regional-hydrogen-transport-cost">
<h3>Intra-Regional Hydrogen Transport Cost<a class="headerlink" href="#intra-regional-hydrogen-transport-cost" title="Link to this heading"></a></h3>
<p>Flat cost for intra-ReEDS BA hydrogen transport and storage in $/kg H2 produced.
Specified via <code class="docutils literal notranslate"><span class="pre">GSw_H2_IntraReg_Transport</span></code>.
Default value assumes transport via pipelines and is from <a class="reference external" href="https://liftoff.energy.gov/wp-content/uploads/2023/05/20230523-Pathways-to-Commercial-Liftoff-Clean-Hydrogen.pdf">2023 DOE Clean Hydrogen Liftoff Report</a> pg 15.
Transport costs could be more expensive if you assume other methods of H2 transport (ex. trucking).</p>
<p>Note: this cost is only assessed for new plants (those that fall in the <code class="docutils literal notranslate"><span class="pre">newv(v)</span></code> set), not existing H2 producers.
This is because existing hydrogen plants likely have already installed the necessary infrastructure to connect to a hydrogen demand center (likely an industrial plant) and that infrastructure was likely sized appropriately for the consumers needs.
Therefore, that H2 producer shouldn’t pay an additional investment cost for intra-regional hydrogen transport since they will not be transporting hydrogen elsewhere.
However, new hydrogen producing plants, especially in a decarbonized power system or if a large hydrogen economy manifests, might not be physically close to the hydrogen consumers and therefore should pay this cost.</p>
</section>
<section id="h2-storage-rb-csv">
<h3>h2_storage_rb.csv<a class="headerlink" href="#h2-storage-rb-csv" title="Link to this heading"></a></h3>
<p>Mapping of ReEDS balancing are to available H2 storage type.
Since costs are always ordered (saltcavern &lt; hardrock &lt; above ground), BAs with access to saltcaverns or hardrock storage are only assigned to the cheapest option to reduce the model size.</p>
</section>
<section id="retail-adder-for-electrolytic-load">
<h3>Retail adder for electrolytic load<a class="headerlink" href="#retail-adder-for-electrolytic-load" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>One option for the retail adder for electrolytic load (<code class="docutils literal notranslate"><span class="pre">GSw_RetailAdder</span></code>) is derived from the difference between the industrial average rate and the ReEDS wholesale cost. The calculation below is done in 2023 dollars:</p>
<ul>
<li><p>National average energy price paid in 2023 by industrial consumers (via EIA 861, <a class="reference external" href="https://www.eia.gov/electricity/data/eia861m/">https://www.eia.gov/electricity/data/eia861m/</a> –&gt; sales and revenue –&gt; download data. This value is the sales weighted average): $80.55/MWh</p></li>
<li><p>ReEDS average wholesale cost from 2023 Standard Scenarios Mid-case in model 2026 (since we cannot find quality empirical wholesale prices): $41.78/MWh</p></li>
<li><p>Difference between the industrial average rate and the wholesale cost: $39/MWh</p></li>
<li><p>Deflated to 2004 dollars: $28/MWh</p></li>
</ul>
</li>
</ul>
<p>Note: please be aware that ReEDS’s solutions are very sensitive to this switch.
With <code class="docutils literal notranslate"><span class="pre">GSw_RetailAdder=28</span></code>, there is very little to no electrolytic hydrogen.
With <code class="docutils literal notranslate"><span class="pre">GSw_RetailAdder=0</span></code> and with exogenous H2 demand, you may see nearly all of the exogenous H2 demand profile being met by electrolyzers and/or a large endogenous H2 economy.</p>
</section>
<section id="hydrogen-production-tax-credit-45v">
<h3>Hydrogen Production Tax Credit (45V)<a class="headerlink" href="#hydrogen-production-tax-credit-45v" title="Link to this heading"></a></h3>
<section id="the-regulation-itself">
<h4>The regulation itself<a class="headerlink" href="#the-regulation-itself" title="Link to this heading"></a></h4>
<p>The hydrogen production tax credit was enacted in the Inflation Reduction Act in 2022.
It is commonly referred to as 45V due to the section of the tax code it is in.
It provides up to $3 per kg of H2 produced (2022 USD, credit amount is <a class="reference external" href="https://www.taxnotes.com/research/federal/irs-guidance/notices/irs-releases-clean-hydrogen-credit-inflation-adjustment/7kd80">inflation adjusted in subsequent years</a>), based on the lifecycle emissions of hydrogen production as shown in the table below.
These lifecycle greenhouse gas emissions only includes emissions only through the point of production (i.e. does not include hydrogen transport or storage).</p>
<p>Since the largest component of the lifecycle emissions of electrolytic hydrogen production is the carbon intensity of the generators powering the electrolyzer, the main point of contention for this regulation has been how to define the carbon intensity of electricity.
The Department of the Treasury proposed <a class="reference external" href="https://www.federalregister.gov/documents/2023/12/26/2023-28359/section-45v-credit-for-production-of-clean-hydrogen-section-48a15-election-to-treat-clean-hydrogen">guidance</a> on December 22, 2023 stating the requirements for demonstrating the CO2 intensity of H2 production and published their <a class="reference external" href="https://www.federalregister.gov/public-inspection/2024-31513/credit-for-production-of-clean-hydrogen-and-energy-credit">final rules</a> on January 3, 2025.
This press release has a nice <a class="reference external" href="https://home.treasury.gov/news/press-releases/jy2768">summary</a>.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Life-cycle Emissions (kg CO2-e / kg H2)</p></th>
<th class="head"><p>PTC (2022$ / kg H2)</p></th>
<th class="head"><p>CO2 intensity of electricity to meet incentive required through electrolysis (tonnes CO2 / MWh)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[4, 2.5]</p></td>
<td><p>0.6</p></td>
<td><p>[.07, .045]</p></td>
</tr>
<tr class="row-odd"><td><p>(2.5, 1.5]</p></td>
<td><p>0.75</p></td>
<td><p>(.045, .027]</p></td>
</tr>
<tr class="row-even"><td><p>(1.5, 0.45]</p></td>
<td><p>1</p></td>
<td><p>(.027, .007]</p></td>
</tr>
<tr class="row-odd"><td><p>(0.45, 0]</p></td>
<td><p>3</p></td>
<td><p>(.008, 0]</p></td>
</tr>
</tbody>
</table>
<p>To ensure the low carbon intensity of the electricity powering electrolyzers, the hydrogen production tax credit has three “pillars” or core components, as described below:</p>
<ol class="arabic simple">
<li><p>Incrementality (also referred to as additionality): generators must have a commercial online date no more than three years before a H2 production facility’s placed in service date to qualify.
Example: if an electrolyzer is put in service in 2028, only generators whose commercial operations dates are between 2025-2028 may qualify to power this electrolyzer.
This requirement starts immediately. There are special exceptions for nuclear, CCS and states with robust GHG emission caps - we do not model these additional pathways in ReEDS.</p></li>
<li><p>Hourly matching: each MWh must be consumed by an electrolyzer in the same hour of the year in which it was generated.</p></li>
<li><p>Deliverablity: each MWh must be consumed by an electrolyzer in the same region in which it was generated. Regional matching is required at the National Transmission Needs Study region level, as shown in the image below.</p></li>
</ol>
<p><img alt="image" src="https://media.github.nrel.gov/user/2165/files/d7b3e8ae-cb0c-4413-8442-4e6b720bcd20" /></p>
<p>Source: <a class="reference external" href="https://www.energy.gov/sites/default/files/2023-12/greet-manual_2023-12-20.pdf">Guidelines to Determine Well-to-Gate GHG Emissions of Hydrogen Production Pathways using 45VH2-GREET 2023</a>, 2023, Figure 2</p>
<p>These three pillars are combined differently depending on which year it is:</p>
<ul class="simple">
<li><p>2024-2029: annual matching, regional matching, additionality required</p></li>
<li><p>2030 onwards: hourly matching, regional matching, additionality required</p></li>
</ul>
<p>Please see the Department of the Treasury <a class="reference external" href="https://www.federalregister.gov/public-inspection/2024-31513/credit-for-production-of-clean-hydrogen-and-energy-credit">final rules</a> if you want to learn more.</p>
<section id="how-is-this-regulated">
<h5>How is this regulated?<a class="headerlink" href="#how-is-this-regulated" title="Link to this heading"></a></h5>
<p>There will be a system of trading credits, which are called Energy Attribute Credit (EACs).
This is similar to Renewable Energy Credits (RECs).
Qualifying clean technologies produce EACs which are tracked by region, vintage (commercial online year), and hour in which they are produced.
Electrolyzers must purchase and retire EACs for all MWh used in order to receive the 45V credit.</p>
</section>
<section id="which-generating-technologies-qualify-to-produce-energy-attribute-credits">
<h5>Which generating technologies qualify to produce Energy Attribute Credits?<a class="headerlink" href="#which-generating-technologies-qualify-to-produce-energy-attribute-credits" title="Link to this heading"></a></h5>
<p>The law is technology neutral and does not stipulate which technologies can or cannot produce an EAC, it only specifies the lifecycle emissions of hydrogen production, which is calculated by the <a class="reference external" href="https://www.anl.gov/topic/greet">GREET Model</a> out of Argonne National Lab.
This model considers the carbon intensity of the electricity from various sources.
You can reverse calculate the range of CO2 intensity of electricity required to meet the various incentive levels (assuming H2 production via electrolysis).
These are the values in the 3rd column of the table above.
Based on their low CO2 emissions, qualifying clean technologies could include: wind, solar PV, nuclear, gas with CCS, geothermal and hydropower.</p>
</section>
<section id="what-years-does-the-hydrogen-production-tax-credit-apply-to">
<h5>What years does the hydrogen production tax credit apply to?<a class="headerlink" href="#what-years-does-the-hydrogen-production-tax-credit-apply-to" title="Link to this heading"></a></h5>
<p>The hydrogen production tax credit took effect immediately, so in 2023.
Projects must begin construction by 2033.
The credit can be received for 10 years.
Therefore, the latest we would see plants receiving 45V through 2042.
If the final regulations include a 4-hr year safe harbor (consistent with other tax credits such as the PTC and ITC), then projects receiving 45V could consutrction as late as by 2037 and receive 45V through 2046.</p>
</section>
<section id="intersection-with-other-tax-credits-and-policies">
<h5>Intersection with other tax credits and policies<a class="headerlink" href="#intersection-with-other-tax-credits-and-policies" title="Link to this heading"></a></h5>
<ul class="simple">
<li><p>Section 45Y PTC and Section 48E ITC</p>
<ul>
<li><p>45V can be stacked with the PTC/ITC.
This is because it is two different plants which are claiming the credit.
Example: a wind plant could produce a MWh of energy and receive the generation PTC for that energy produced.
That energy could power an electrolyzer which could then receive 45V.</p></li>
</ul>
</li>
<li><p>Section 45Q - carbon capture and sequestration</p>
<ul>
<li><p>The same plant cannot claim both 45Q and 45V.
So for example, an SMR-CCS plant cannot claim both 45Q for their carbon capture and 45V for their hydrogen production.
They must choose one.
We calculated that 45Q will be most valuable for most SMR-CCS plants and therefore assume that they take that in the model.</p></li>
<li><p>However, a gas-CCS plant could produce a MWh of energy and receive 45Q for that energy produced.
Since they are a relative clean generator per their lifecycle emissions, this energy produces a EAC.
So the gas-CCS plant would receive 45Q and the electrolyzer would receive 45V.
People frequently confuse this.
Only the hydrogen producer receives 45V.
Generating technologies are merely creating the Energy Attribute Credit which hydrogen producers need to prove that their electricity is “clean enough”.</p></li>
</ul>
</li>
<li><p>RECs</p>
<ul>
<li><p>A generating technology can choose to produce a REC or an EAC, but not both.</p></li>
</ul>
</li>
</ul>
</section>
<section id="implementation-in-reeds">
<h5>Implementation in ReEDS<a class="headerlink" href="#implementation-in-reeds" title="Link to this heading"></a></h5>
<ul class="simple">
<li><p>Qualifying clean technologies produce Energy Attribute Credits (EACs, similar to the REC system) which are tracked by region (h2ptcreg), vintage (commercial online year), and hour in which they are produced.</p>
<ul>
<li><p>Qualifying clean technologies include: wind, solar PV, nuclear, gas with CCS, geothermal, hydropower</p></li>
<li><p>These are defined by the set i_h2_ptc_gen(i) and carried through the model as valcap_h2ptc and valgen_h2ptc</p></li>
</ul>
</li>
<li><p>Electrolyzers must purchase and retire EACs for all MWh used in order to receive the 45V credit</p>
<ul>
<li><p>This is accomplished via the new variable CREDIT_H2PTC(i,v,r,allh,t)</p></li>
</ul>
</li>
<li><p>Pre-2030 those EACs can be generated at any time within the year the H2 is generated; 2030 and later the EACs must be matched hourly</p></li>
<li><p>Simplifying assumption used for vintage: generators must have a commercial online date in 2024 or later in order to qualify as an EAC producer</p>
<ul>
<li><p>Applied by restricting valcap_h2ptc to have firstyear_v(i,v)&gt;=h2_ptc_firstyear</p></li>
</ul>
</li>
</ul>
</section>
</section>
<section id="assumptions">
<h4>Assumptions<a class="headerlink" href="#assumptions" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>We only represent technologies which qualify for the less than 0.45 kg CO2e/kg H2 lifecycle emissions category.
There may be relatively clean generators that qualify for lower <span class="math notranslate nohighlight">\( amounts of the PTC.
However, since the \)</span>3/kg is so lucrative, it is assumed that all H2 producers will comply with the mechanisms required to prove the cleanliness of their electricity.</p></li>
<li><p>This PR consists of only grid-connected electrolyzers.
We did not include off grid systems due to insufficient evidence of their BOS costs, logistical tractability and more.
However, there may be off-grid systems which are cost competitive with grid connected systems.</p></li>
<li><p>SMR with CCS could technically receive the H2 PTC.
However, our back of the envelope calculations show that SMR w/ CCS plants are more likely to take 45Q so that is why ReEDS currently assumes that only electrolyzers take the H2 PTC.</p></li>
<li><p>We force all electrolyzers to take 45V, and therefore we force there to be 45V-credited generation if there is electrolyzer load.
Our logic was that for an electrolyzer to be cost competitive with SMR or SMR-CCS, it would need and want to take the $3/kg 45V.
This assumption is enforced by the constraints <code class="docutils literal notranslate"><span class="pre">eq_h2_ptc_region_balance</span></code> and <code class="docutils literal notranslate"><span class="pre">eq_h2_ptc_region_hour_balance</span></code>.</p></li>
</ul>
</section>
<section id="recommended-switches-to-incorporate-the-hydrogen-production-tax-credit-into-a-run">
<h4>Recommended switches to incorporate the hydrogen production tax credit into a run<a class="headerlink" href="#recommended-switches-to-incorporate-the-hydrogen-production-tax-credit-into-a-run" title="Link to this heading"></a></h4>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Switch</p></th>
<th class="head"><p>Value</p></th>
<th class="head"><p>Recommend or Required for running with the H2 PTC enabled</p></th>
<th class="head"><p>Function</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>GSw_H2_PTC</p></td>
<td><p>1</p></td>
<td><p>Required</p></td>
<td><p>Turns on and off hydrogen production tax credit</p></td>
</tr>
<tr class="row-odd"><td><p>GSw_H2</p></td>
<td><p>2</p></td>
<td><p>Recommended</p></td>
<td><p>Representation of hydrogen supply/demand balance. Sw_H2=1 will not cause the model to fail but it is not recommended for the most accurate representation of the H2 PTC.</p></td>
</tr>
<tr class="row-even"><td><p>GSw_H2_Demand_Case</p></td>
<td><p>Anything except ‘none’</p></td>
<td><p>Recommended</p></td>
<td><p>Annual H2 demand profile</p></td>
</tr>
<tr class="row-odd"><td><p>GSw_H2_IntraReg_Transport</p></td>
<td><p>0.32</p></td>
<td><p>Recommended</p></td>
<td><p>Flat cost for intra-ReEDS BA hydrogen transport and storage in $2004 / kg H2 produced. Note: This is now included as the default representation even if the H2 PTC is not enabled. This is assuming transport via pipelines. Transport costs could be more expensive if you assume other methods of H2 transport (ex. trucking).</p></td>
</tr>
<tr class="row-even"><td><p>GSw_RetailAdder</p></td>
<td><p>$0/MWh</p></td>
<td><p>Recommended</p></td>
<td><p>2004$/MWh adder to the cost of energy consumed by hydrogen producing facilities and direct air CO2 capture facilities. Included to represent the non-bulk-power-system costs of increasing electrical loads that are not captured within ReEDS. The default value of 0 indicates an assumption that these facilities are large enough to participate directly in wholesale markets.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="other-notes">
<h4>Other Notes<a class="headerlink" href="#other-notes" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>The final version of the regulation will not be published until later in FY24, at which point this documentation will be updated to reflect the final regulations.</p></li>
<li><p>Fun fact: There is an Investment Tax Credit (ITC) component to 45V.
However, all analyses (both ours and from other research groups) indicate that hydrogen producing facilties will choose to take the H2 PTC so in ReEDS we exclusively model the PTC.</p></li>
</ul>
</section>
</section>
</section>
<section id="supply-curves">
<h2>Supply curves<a class="headerlink" href="#supply-curves" title="Link to this heading"></a></h2>
<section id="supply-curve-switches">
<h3>Supply curve switches<a class="headerlink" href="#supply-curve-switches" title="Link to this heading"></a></h3>
<p>Supply curve “access” scenarios: these switches are used to toggle across the different supply curve scenarios from reV.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">GSw_SitingGeo</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GSw_SitingUPV</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GSw_SitingWindOfs</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GSw_SitingWindOns</span></code></p></li>
</ul>
<p>For geothermal there are additional switches for toggling between using reV and ATB based supply curves:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">geohydrosupplycurve</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">egssupplycurve</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">egsnearfieldsupplycurve</span></code></p></li>
</ul>
<p>Pumped storage supply curves can also be specified using <code class="docutils literal notranslate"><span class="pre">pshsupplycurve</span></code>.</p>
<p>The number of cost bins used to represent the reV-based supply curve technologies can be set dynamically by the <code class="docutils literal notranslate"><span class="pre">numbins</span></code> switches:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">numbins_windons</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">numbins_windofs</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">numbins_upv</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">numbins_csp</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">numbins_geohydro_allkm</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">numbins_egs_allkm</span></code></p></li>
</ul>
<p>In addition, the <code class="docutils literal notranslate"><span class="pre">GSw_ReducedResource</span></code> switch allows for a uniform reduction of supply curve capacity based on the value of <code class="docutils literal notranslate"><span class="pre">reduced_resource_frac</span></code> set in <code class="docutils literal notranslate"><span class="pre">inputs/scalars</span></code></p>
</section>
<section id="id1">
<h3>Other notes<a class="headerlink" href="#id1" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Supply curve files can be found in <code class="docutils literal notranslate"><span class="pre">inputs/supply_curve</span></code>, with the corresponding hourly profiles for wind and solar in <code class="docutils literal notranslate"><span class="pre">inputs/variability/multi_year</span></code></p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">rev_paths.csv</span></code> in <code class="docutils literal notranslate"><span class="pre">inputs/supply_curve</span></code>provides details on the available access case for each technology and the corresponding supply curve vintage.</p></li>
<li><p>Supply curves for wind, solar, and geothermal are generated by hourlize; for more details see <a class="reference internal" href="#hourlize.md"><span class="xref myst">Using Hourlize</span></a>.</p></li>
</ul>
</section>
</section>
<section id="transmission">
<h2>Transmission<a class="headerlink" href="#transmission" title="Link to this heading"></a></h2>
<p>Most transmission input files are in the <code class="docutils literal notranslate"><span class="pre">inputs/transmission/</span></code> folder.</p>
<section id="input-files">
<h3>Input files<a class="headerlink" href="#input-files" title="Link to this heading"></a></h3>
<ol class="arabic simple">
<li><p><em>cost_hurdle_country.csv</em>: Indicates the hurdle rate for transmission flows between USA/Canada and USA/Mexico.</p></li>
<li><p><em>rev_transmission_basecost.csv</em>: Base transmission costs (before terrain multipliers) used in reV. Sources for numeric values are:</p>
<ol class="arabic simple">
<li><p>TEPPC: <a class="reference external" href="https://www.wecc.org/Administrative/TEPPC_TransCapCostCalculator_E3_2019_Update.xlsx">https://www.wecc.org/Administrative/TEPPC_TransCapCostCalculator_E3_2019_Update.xlsx</a></p></li>
<li><p>SCE: <a class="reference external" href="http://www.caiso.com/Documents/SCE2019DraftPerUnitCostGuide.xlsx">http://www.caiso.com/Documents/SCE2019DraftPerUnitCostGuide.xlsx</a></p></li>
<li><p>MISO: <a class="reference external" href="https://cdn.misoenergy.org/20190212%20PSC%20Item%2005a%20Transmission%20Cost%20Estimation%20Guide%20for%20MTEP%202019_for%20review317692.pdf">https://cdn.misoenergy.org/20190212 PSC Item 05a Transmission Cost Estimation Guide for MTEP 2019_for review317692.pdf</a></p>
<ol class="arabic simple">
<li><p>A more recent guide with a working link (as of 20230227) is available at <a class="reference external" href="https://cdn.misoenergy.org/Transmission%20Cost%20Estimation%20Guide%20for%20MTEP22337433.pdf">https://cdn.misoenergy.org/Transmission Cost Estimation Guide for MTEP22337433.pdf</a>.</p></li>
</ol>
</li>
<li><p>Southeast: Private communication with a representative Southeastern utility</p></li>
</ol>
</li>
<li><p><em>transmission_capacity_future_baseline.csv</em>: Historically installed (since 2010) and currently planned transmission capacity additions.</p></li>
<li><p><em>transmission_capacity_future_{<code class="docutils literal notranslate"><span class="pre">GSw_TransScen</span></code>}.csv</em>: Available future routes for transmission capacity as specified by <code class="docutils literal notranslate"><span class="pre">GSw_TransScen</span></code>.</p></li>
<li><p><em>transmission_capacity_init_AC_NARIS2024.csv</em>: Initial AC transmission capacities between 134 US ReEDS zones. Calculated using the code available at <a class="reference external" href="https://github.nrel.gov/pbrown/TSC">https://github.nrel.gov/pbrown/TSC</a> and nodal network data from <a class="reference external" href="https://www.nrel.gov/docs/fy21osti/79224.pdf">https://www.nrel.gov/docs/fy21osti/79224.pdf</a>. The method is described by Brown, P.R. et al 2023, “A general method for estimating zonal transmission interface limits from nodal network data”, in prep.</p></li>
<li><p><em>transmission_capacity_init_AC_REFS2009.csv</em>: Initial AC transmission capacities between 134 US ReEDS zones. Calculated for <a class="reference external" href="https://www.nrel.gov/analysis/re-futures.html">https://www.nrel.gov/analysis/re-futures.html</a>.</p></li>
<li><p><em>transmission_capacity_init_nonAC.csv</em>: Initial DC transmission capacities between 134 US ReEDS zones.</p></li>
<li><p><em>transmission_distance_cost_500kVac.csv</em>: Distance and cost for a representative transmission route between each pair of 134 US ReEDS zones, assuming a 500 kV single-circuit line. Routes are determined by the reV model using a least-cost-path algorithm accounting for terrain and land type multipliers. Costs represent the appropriate base cost from rev_transmission_basecost.csv multiplied by the appropriate terrain and land type multipliers for each 90m pixel crossed by the path. Endpoints are in inputs/shapefiles/transmission_endpoints and represent a point within the largest urban area in each of the 134 ReEDS zones.</p></li>
<li><p><em>transmission_distance_cost_500kVdc.csv</em>: Same as transmission_distance_cost_500kVdc.csv except assuming a 500 kV bipole DC line.</p></li>
</ol>
</section>
<section id="relevant-switches">
<h3>Relevant switches<a class="headerlink" href="#relevant-switches" title="Link to this heading"></a></h3>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">GSw_HierarchyFile</span></code>: Indicate the suffix of the inputs/hierarchy.csv file you wish to use.</p>
<ol class="arabic simple">
<li><p>By default the transreg boundaries are used for operating reserve sharing, capacity credit calculations, and the boundaries for limited-transmission cases.</p></li>
</ol>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">GSw_TransInvMaxLongTerm</span></code>: Limit on annual transmission deployment nationwide <strong>IN/AFTER</strong> <code class="docutils literal notranslate"><span class="pre">firstyear_trans_longterm</span></code>, measured in TW-miles</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GSw_TransInvMaxNearTerm</span></code>: Limit on annual transmission deployment nationwide <strong>BEFORE</strong> <code class="docutils literal notranslate"><span class="pre">firstyear_trans_longterm</span></code>, measured in TW-miles</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GSw_TransInvPRMderate</span></code>: By default, adding 1 MW of transmission capacity between two zones increases the energy transfer capability by 1 MW but the PRM trading capability by only 0.85 MW; here you can adjust that derate</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GSw_TransCostMult</span></code>: Applies to interzonal transmission capacity (including AC/DC converters) but not FOM costs</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GSw_TransSquiggliness</span></code>: Somewhat similar to <code class="docutils literal notranslate"><span class="pre">GSw_TransCostMult</span></code>, but scales the distance for each inter-zone interface. So turning it up to 1.3 will increase costs and losses by 1.3, and for the same amount of GW it will increase TWmiles by 1.3.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GSw_TransHurdle</span></code>: Intra-US hurdle rate for interzonal flows, measured in $2004/MWh</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GSw_TransHurdleLevel</span></code>: Indicate the level of hierarchy.csv between which to apply the hurdle rate specified by <code class="docutils literal notranslate"><span class="pre">GSw_TransHurdle</span></code>. i.e. if set to ‘st’, intra-state flows will have no hurdle rates but inter-state flows will have hurdle rates specified by <code class="docutils literal notranslate"><span class="pre">GSw_TransHurdle</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GSw_TransRestrict</span></code>: Indicate the level of hierarchy.csv within which to allow transmission expansion. i.e. if set to ‘st’, no inter-state expansion is allowed.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GSw_TransScen</span></code>: Indicate the inputs/transmission/transmission_capacity_future_{<code class="docutils literal notranslate"><span class="pre">GSw_TransScen</span></code>}.csv file to use, which includes the list of interfaces that can be expanded. Note that the full list of expandable interfaces is indicated by this file plus transmission_capacity_future_default.csv (currently planned additions) plus transmission_capacity_init_AC_NARIS2024.csv (existing AC interfaces, which can be expanded by default) plus transmission_capacity_init_nonAC.csv (existing DC connections, which can be expanded by default). Applies to AC, LCC, and VSC.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GSw_VSC</span></code>: Indicate whether to allow VSC expansion. Will only have an effect if paired with a <code class="docutils literal notranslate"><span class="pre">GSw_TransScen</span></code> that includes VSC interfaces.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GSw_PRM_hierarchy_level</span></code>: Level of hierarchy.csv within which to calculate net load, used for capacity credit. Larger levels indicate more planning coordination between regions.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GSw_PRMTRADE_level</span></code>: Level of hierarchy.csv within which to allow PRM trading. By default it’s set to ‘country’, indicating no limits. If set to ‘r’, no PRM trading is allowed.</p></li>
</ol>
</section>
</section>
<section id="reeds2pras-and-pras">
<h2>ReEDS2PRAS and PRAS<a class="headerlink" href="#reeds2pras-and-pras" title="Link to this heading"></a></h2>
<p>Some of the behavior of ReEDS2PRAS and PRAS (used for the stress periods resource adequacy method) can be controlled via the following switches:</p>
<ul class="simple">
<li><p>PRAS sampling</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">pras_samples</span></code> (default 100): How many Monte Carlo samples to use in PRAS</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pras_seed</span></code> (default 1): Random number generator seed to use for PRAS samples; can be any positive integer.
If 0 the seed is set randomly.</p></li>
</ul>
</li>
<li><p>ReEDS2PRAS unit disaggregation</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">pras_agg_ogs_lfillgas</span></code> (default 0): If set to 1, aggregate existing o-g-s and landfill gas units to the capacity assumed for new units (from <code class="docutils literal notranslate"><span class="pre">inputs/plant_characteristics/unitsize_{pras_unitsize_source}.csv</span></code>).
This switch is provided because these two technologies have low total capacity nationwide but many small-capacity (~1 MW) units;
aggregating these small individual units can reduce the PRAS problem size without significantly affecting the results.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pras_existing_unit_size</span></code> (default 1): If set to 1, use the average size of existing units by tech/region when disaggregating new capacity.
Otherwise, if set to 0, use characteristic capacities from <code class="docutils literal notranslate"><span class="pre">inputs/plant_characteristics/unitsize_{pras_unitsize_source}.csv</span></code> for all new units.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pras_unitsize_source</span></code> (default <code class="docutils literal notranslate"><span class="pre">atb</span></code>; choices are <code class="docutils literal notranslate"><span class="pre">r2x</span></code> or <code class="docutils literal notranslate"><span class="pre">atb</span></code>): Data source for characteristic unit sizes in ReESD2PRAS</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pras_vre_combine</span></code> (default 0): If set to 1, combine VRE into a single VRE tech in ReEDS2PRAS</p></li>
</ul>
</li>
<li><p>ReEDS2PRAS technology representation</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">pras_hydro_energylim</span></code> (default 1): Model hydro as energy-limited in PRAS (1) or like a thermal generator (0)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pras_include_h2dac</span></code> (default 0): If set to 1, include demand associated with H2 production &amp; DAC in PRAS</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pras_trans_contingency</span></code> (default 0): Use n-0 (0) or n-1 (1) transmission capacities in PRAS</p></li>
</ul>
</li>
</ul>
<p>If a ReEDS case raises an out-of-memory error in ReEDS2PRAS/PRAS, the memory use can be reduced using some or all of the following settings:</p>
<ul class="simple">
<li><p>Set <code class="docutils literal notranslate"><span class="pre">pras_agg_ogs_lfillgas</span></code> to 1</p></li>
<li><p>Set <code class="docutils literal notranslate"><span class="pre">pras_vre_combine</span></code> to 1</p></li>
<li><p>Setting <code class="docutils literal notranslate"><span class="pre">pras_existing_unit_size</span></code> to 0 results in fewer, larger units; the reduction in the number of units reduces the memory use.
However, for zones with relatively low load and low interzonal transmission capacity,
using larger unit sizes (particularly unit sizes greater than the reserve margin) can increase the level of unserved energy;
if a single unit is larger than the planning reserve margin, unserved energy is likely whenever that unit experiences on outage.
This approach should therefore be used with caution.</p></li>
</ul>
</section>
<section id="troubleshooting">
<h2>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Link to this heading"></a></h2>
<p>This section provides guidance on identifying and resolving common issues encountered during model execution. By checking the locations and files listed below, users can better pinpoint errors.</p>
<section id="key-areas-for-error-checking">
<h3>Key Areas for Error Checking<a class="headerlink" href="#key-areas-for-error-checking" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>GAMS Log File</p>
<ul>
<li><p>Path: <code class="docutils literal notranslate"><span class="pre">/runs/{batch_prefix}_{case}/gamslog.txt</span></code></p></li>
<li><p>Purpose: contains the log outputs for all execution statements from the case batch file</p></li>
<li><p>What to look for:</p>
<ul>
<li><p>‘ERROR’: will provide more information into the specific file or line in the source code that failed or has an error</p></li>
<li><p>‘LP status’ and ‘Status’: can provide more insight into the model run</p></li>
<li><p>‘Cur_year’: can help you determine which year the model run failed in</p></li>
</ul>
</li>
</ul>
</li>
<li><p>GAMS Listing Files</p>
<ul>
<li><p>Path: <code class="docutils literal notranslate"><span class="pre">/runs//{batch_prefix}_{case}/lstfiles/</span></code></p></li>
<li><p>Purpose: contains the listing files for GAMS executions</p></li>
<li><p>What to look for:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">1_inputs.lst</span></code>: errors will be preceded by <code class="docutils literal notranslate"><span class="pre">****</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">{batch_prefix}_{case}_{year}i0.lst</span></code>: there should be one file for each year of the model run</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Augur_errors_{year}</span></code>: this file will appear in the event that there is an augur-related issue</p></li>
</ul>
</li>
</ul>
</li>
<li><p>GAMS Workfiles</p>
<ul>
<li><p>Path: <code class="docutils literal notranslate"><span class="pre">/runs/{batch_prefix}_{case}/g00files/</span></code></p></li>
<li><p>Purpose: stores a snapshot of all the model information available to GAMS at that point in the case execution. More information about GAMS work files can be found here: <a class="reference external" href="https://www.gams.com/latest/docs/UG_SaveRestart.html">https://www.gams.com/latest/docs/UG_SaveRestart.html</a></p></li>
<li><p>What to look for:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">{batch_prefix}_{case}_{last</span> <span class="pre">year</span> <span class="pre">run}i0.g00</span></code>: should exist for the last year run</p></li>
</ul>
</li>
</ul>
</li>
<li><p>Output Directory</p>
<ul>
<li><p>Path: <code class="docutils literal notranslate"><span class="pre">/runs/{batch_prefix}_{case}/outputs/</span></code></p></li>
<li><p>Purpose: the outputs folder contains the generated output files from the model run</p></li>
<li><p>What to look for:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">*.csv</span></code> files: there should be many <code class="docutils literal notranslate"><span class="pre">.csv</span></code> files in this folder</p>
<ul>
<li><p>these files should contain data, an error message “GDX file not found” indicates an issue with the reporting script at the end of the model</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">reeds-report/</span></code> and <code class="docutils literal notranslate"><span class="pre">reeds-report-reduced/</span></code>: if these folders are not present, it can indicate a problem with the post-processing scripts</p></li>
</ul>
</li>
</ul>
</li>
<li><p>Augur Data</p>
<ul>
<li><p>Path: <code class="docutils literal notranslate"><span class="pre">/runs/{batch_prefix}_{case}/ReEDS_Augur/augur_data/</span></code></p></li>
<li><p>What to look for:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">ReEDS_Augur_{year}.gdx</span></code>: there should be a file for each year of the model run =</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">reeds_data_{year}.gdx</span></code>: there should be a file for each year of the model run</p></li>
</ul>
</li>
</ul>
</li>
<li><p>Case Inputs</p>
<ul>
<li><p>Path: <code class="docutils literal notranslate"><span class="pre">/runs/{batch_prefix}_{case}/inputs_case/</span></code></p></li>
<li><p>What to look for:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">*.csv</span></code> files: there should be many <code class="docutils literal notranslate"><span class="pre">.csv</span></code> files in this folder, if there isn’t, it could indicate a problem with the pre-processing scripts</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">inputs.gdx</span></code>: if this doesn’t exist, it could indicate a problem with the pre-processing scripts</p></li>
</ul>
</li>
</ul>
</li>
</ul>
</section>
<section id="re-running-a-failed-reeds-case">
<h3>Re-running a Failed ReEDS Case<a class="headerlink" href="#re-running-a-failed-reeds-case" title="Link to this heading"></a></h3>
<p>To re-run a failed case from the year it failed:</p>
<ol class="arabic simple">
<li><p>Comment out all the execution statements that completed successfully in <code class="docutils literal notranslate"><span class="pre">/runs/{batch_prefix}_{case}/call_{batch_prefix}_{case}.bat</span></code> (or *.sh file if on Mac)</p>
<ul class="simple">
<li><p>Shortcut for commenting multiple lines: Ctrl + <code class="docutils literal notranslate"><span class="pre">/</span></code> (Command + <code class="docutils literal notranslate"><span class="pre">/</span></code> if on Mac)</p></li>
</ul>
</li>
<li><p>Re-run <code class="docutils literal notranslate"><span class="pre">/runs/{batch_prefix}_{case}/call_{batch_prefix}_{case}.bat</span></code></p></li>
</ol>
<p>Additionally, ‘restart_runs.py’ is a helper script that can be used to restart any failed runs. For more information on how to use this script, see the section on <a class="reference internal" href="postprocessing_tools.html#helper-scripts-and-tools"><span class="std std-ref">Helper Scripts and Tools</span></a>.</p>
</section>
<section id="diagnoses-of-reeds-case">
<h3>Diagnoses of ReEDS Case<a class="headerlink" href="#diagnoses-of-reeds-case" title="Link to this heading"></a></h3>
<p>The ReEDS repository includes a diagnostic tool that provides detailed model information, such as right-hand side values, the A matrix, and statistics for variables and equations.
To facilitate this, GAMS offers the CONVERT tool, which transforms a GAMS model instance into a scalar model, converting it into formats compatible with other modeling and solution systems.
For more information about CONVERT, please refer to the <a class="reference external" href="https://www.gams.com/47/docs/S_CONVERT.html#:~:text=CONVERT%20is%20a%20utility%20which,other%20modeling%20and%20solution%20systems">GAMS documentation</a>.
The diagnose_process.py script, is located in “postprocessing/diagnose”, analyzes the CONVERT outputs to generate model characteristics in CSV files.
These characteristics include:</p>
<ul class="simple">
<li><p>The number of variables, equations, and non-zero values.</p></li>
<li><p>Reporting variables (if any), along with their names.</p></li>
<li><p>Dense columns and their counts.</p></li>
<li><p>Matrix statistics:</p>
<ul>
<li><p>Minimum, maximum, absolute minimum, absolute maximum.</p></li>
<li><p>Ratio of max(abs) to min(abs).</p></li>
<li><p>Number of reporting variables.</p></li>
<li><p>Share of reporting variables in total variables.</p></li>
<li><p>Share of reporting variables in total non-zero variables.</p></li>
</ul>
</li>
<li><p>Equation RHS statistics:</p>
<ul>
<li><p>Maximum, minimum, absolute maximum, and absolute minimum values.</p></li>
<li><p>The equations with the maximum and minimum RHS values.</p></li>
</ul>
</li>
</ul>
<p>For more information on how to generate these report, see the <a class="reference internal" href="diagnose.html"><span class="std std-doc">diagnose documentation</span></a>.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="model_documentation.html" class="btn btn-neutral float-left" title="Model Documentation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="sources.html" class="btn btn-neutral float-right" title="Sources and Data" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, NREL.
      <span class="lastupdated">Last updated on August 04, 2025.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>